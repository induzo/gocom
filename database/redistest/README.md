<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# redistest

```go
import "github.com/induzo/gocom/database/redistest"
```

Package redistest implements dockertest with redis for testing.

### Use case in TestMain

```
var dockertest *redistest.DockertestWrapper

func TestMain(m *testing.M) {
	dockertest = redistest.New()

	code := m.Run()

	dockertest.Purge()

	os.Exit(code)
}

func TestFunc(t *testing.T) {
	t.Parallel()

	repo := NewRepo(dockertest.RedisAddr)

	tests := []struct{
		name string
	}{}
	for _, tt := range tests {
		tt := tt
		t.Run(tt.name, func(t *testing.T) {
			t.Parallel()
			...
		})
	}
}

func TestRun(t *testing.T) {
	t.Parallel()

	tests := []struct{
		name string
	}{}
	for _, tt := range tests {
		tt := tt
		t.Run(tt.name, func(t *testing.T) {
			t.Parallel()
			repo := NewRepo(dockertest.RedisAddr)
			...
		})
	}
}
```

## Index

- [type DockertestWrapper](<#type-dockertestwrapper>)
  - [func New() *DockertestWrapper](<#func-new>)
  - [func (dw *DockertestWrapper) Purge()](<#func-dockertestwrapper-purge>)


## type DockertestWrapper

```go
type DockertestWrapper struct {
    DockertestPool     *dockertest.Pool
    DockertestResource *dockertest.Resource
    RedisAddr          string
}
```

### func New

```go
func New() *DockertestWrapper
```

<details><summary>Example</summary>
<p>

```go
package main

import (
	"github.com/induzo/gocom/database/redistest"
)

func main() { //nolint: testableexamples // redistest no output
	dockertest := redistest.New()

	// repo := NewRepo(dockertest.RedisAddr)
	// do something...

	dockertest.Purge()
}
```

</p>
</details>

### func \(\*DockertestWrapper\) Purge

```go
func (dw *DockertestWrapper) Purge()
```



Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
