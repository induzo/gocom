<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# writablecontext

```go
import "github.com/induzo/gocom/http/middleware/writablecontext"
```

## Index

- [func Middleware\(next http.Handler\) http.Handler](<#Middleware>)
- [type Key](<#Key>)
- [type Store](<#Store>)
  - [func FromContext\(ctx context.Context\) Store](<#FromContext>)
  - [func \(s Store\) Get\(key string\) \(any, bool\)](<#Store.Get>)
  - [func \(s Store\) Set\(key string, value any\)](<#Store.Set>)


<a name="Middleware"></a>
## func [Middleware](<https://github.com/induzo/gocom/blob/main/http/middleware/writablecontext/writablecontext.go#L38>)

```go
func Middleware(next http.Handler) http.Handler
```

Middleware is a middleware that adds a writable context to the request.

<details><summary>Example</summary>
<p>

Using Middleware

```go
package main

import (
	"fmt"
	"net/http"
	"net/http/httptest"

	"github.com/induzo/gocom/http/middleware/writablecontext"
)

func main() {
	middlewareSetInStore := func(next http.Handler) http.Handler {
		return http.HandlerFunc(func(w http.ResponseWriter, r *http.Request) {
			store := writablecontext.FromContext(r.Context())
			store.Set("foo", "bar")
			next.ServeHTTP(w, r)
		})
	}

	// Create a handler to use for testing
	handler := func(w http.ResponseWriter, r *http.Request) {
		store := writablecontext.FromContext(r.Context())
		if store == nil {
			return
		}

		val, ok := store.Get("foo")
		if !ok {
			return
		}

		valS, ok := val.(string)
		if !ok {
			return
		}

		w.Write([]byte(valS))
	}

	mux := http.NewServeMux()

	mux.Handle("/", writablecontext.Middleware(middlewareSetInStore(http.HandlerFunc(handler))))

	rr := httptest.NewRecorder()

	// Serve the handler
	mux.ServeHTTP(rr, httptest.NewRequest(http.MethodGet, "/", nil))

	fmt.Println(rr.Body.String())

}
```

#### Output

```
bar
```

</p>
</details>

<a name="Key"></a>
## type [Key](<https://github.com/induzo/gocom/blob/main/http/middleware/writablecontext/writablecontext.go#L9>)

Key is the type for the context key.

```go
type Key string
```

<a name="Store"></a>
## type [Store](<https://github.com/induzo/gocom/blob/main/http/middleware/writablecontext/writablecontext.go#L15>)

Store is a map of key/value pairs for the context.

```go
type Store map[string]any
```

<a name="FromContext"></a>
### func [FromContext](<https://github.com/induzo/gocom/blob/main/http/middleware/writablecontext/writablecontext.go#L46>)

```go
func FromContext(ctx context.Context) Store
```

FromContext returns the writable context from the request.

<a name="Store.Get"></a>
### func \(Store\) [Get](<https://github.com/induzo/gocom/blob/main/http/middleware/writablecontext/writablecontext.go#L31>)

```go
func (s Store) Get(key string) (any, bool)
```

Get returns the value for a key in the context.

<a name="Store.Set"></a>
### func \(Store\) [Set](<https://github.com/induzo/gocom/blob/main/http/middleware/writablecontext/writablecontext.go#L22>)

```go
func (s Store) Set(key string, value any)
```

Set sets the value for a key in the context.

Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
